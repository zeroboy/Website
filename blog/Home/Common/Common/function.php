<?php/** * ����ƴ�ӷ�ҳ. * @param   current  ��ǰҳ * @param   size	 ��ҳ����   * @return	array  */function GetQueryPage($current){		$size = C("PAGESIZE");	$offset = ($current-1)*$size;//ƫ����	$offset_length = $size;	$limit = $offset.",".$offset_length;	return array(			"limit"=>$limit,			"current"=>$current,			"size"=>$size			);}function curlget($url,$data=''){    if($data){        $args = "";        foreach ($data as $k=>$v){            $args .=  $k."=".$v."&";        }        $args = rtrim($args,'&');    }    $url = $url."?".$args;    //初始化    $curl = curl_init();    //设置抓取的url    curl_setopt($curl, CURLOPT_URL, $url);    //设置头文件的信息作为数据流输出    curl_setopt($curl, CURLOPT_HEADER, 1);    //设置获取的信息以文件流的形式返回，而不是直接输出。    curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1);    //执行命令    $data = curl_exec($curl);    if (curl_getinfo($curl, CURLINFO_HTTP_CODE) == '200') {        $headerSize = curl_getinfo($curl, CURLINFO_HEADER_SIZE);        $header = substr($data, 0, $headerSize);        $body = substr($data, $headerSize);    }    //关闭URL请求    curl_close($curl);    //显示获得的数据    return $body;}/** * ��ȡ��ǰҳȫ·��.   * @return	string  */ function GetUrl() {    $sys_protocal = isset($_SERVER['SERVER_PORT']) && $_SERVER['SERVER_PORT'] == '443' ? 'https://' : 'http://';    $php_self = $_SERVER['PHP_SELF'] ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME'];    $path_info = isset($_SERVER['PATH_INFO']) ? $_SERVER['PATH_INFO'] : '';    $relate_url = isset($_SERVER['REQUEST_URI']) ? $_SERVER['REQUEST_URI'] : $php_self.(isset($_SERVER['QUERY_STRING']) ? '?'.$_SERVER['QUERY_STRING'] : $path_info);    return $sys_protocal.(isset($_SERVER['HTTP_HOST']) ? $_SERVER['HTTP_HOST'] : '').$relate_url; }