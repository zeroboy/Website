<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>UploadiFive Test</title>
<script src="__PUBLIC__/Admin/js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="__PUBLIC__/Admin/js/uploadify/jquery.uploadify.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="__PUBLIC__/Admin/css/uploadify/uploadify.css">
<style type="text/css">
body {
	font: 13px Arial, Helvetica, Sans-serif;
}
</style>
</head>

<body>
	<form>
		<div id="queue"></div>
		<input id="file_upload" name="file_upload" type="file" multiple="true" value="上传头像">
	</form>

	<script type="text/javascript">
		$(function() {
			_url = "<!--{:U('Uploadify/upload','',false)}-->";
			$('#file_upload').uploadify({
				//'auto':false,
				'buttonText' : '上传头像',  //按钮文本
				//'buttonImage' : '/img/browse-btn.png', //按钮背景图片
				'formData'     : {
					'timestamp' : '123',
					'token'     : 'abc'
				},
				'swf'      : '__PUBLIC__/Admin/image/uploadify/uploadify.swf',
				'uploader' : _url, //文件上传处理
				'height'       :30,
				'checkExisting' : 'check-exists.php',//验证同名文件是否已经存在
				'onUploadSuccess' : function(file, data, response) {
					if(data == '1'){
						alert('这个文件 ' + file.name + '已经成功被上传 ' + response + ':' + data);
					}else{
						alert('文件 ' + file.name + '上传失败~ 原因:' + data);
					}
						
				},
				 'onUploadError' : function(file, errorCode, errorMsg, errorString) {
						alert('The file ' + file.name + ' could not be uploaded: ' + errorString);
				},
				'onCancel' : function(file) {
						alert('The file ' + file.name + ' was cancelled.');
				}
			});
		});
	</script>
</body>
</html>